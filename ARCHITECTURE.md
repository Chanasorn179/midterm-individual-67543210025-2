# ğŸ“š Library Management System â€“ Architecture

## ğŸ“‹ Project Information

* **Student Name:** à¸™à¸²à¸¢ à¸Šà¸™à¸ªà¸£à¸“à¹Œ à¸šà¸¸à¸•à¸£à¸–à¸²
* **Student ID:** 67543210025-2
* **Course:** ENGSE207 Software Architecture

---

## ğŸ§© Architecture Overview

à¸£à¸°à¸šà¸š **Library Management System** à¸–à¸¹à¸à¸­à¸­à¸à¹à¸šà¸šà¸•à¸²à¸¡à¹à¸™à¸§à¸„à¸´à¸” **Layered Architecture (3-tier)** à¹‚à¸”à¸¢à¹à¸¢à¸à¸„à¸§à¸²à¸¡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸‚à¸­à¸‡à¸£à¸°à¸šà¸šà¸­à¸­à¸à¹€à¸›à¹‡à¸™à¹à¸•à¹ˆà¸¥à¸°à¸Šà¸±à¹‰à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸Šà¸±à¸”à¹€à¸ˆà¸™ à¹€à¸à¸·à¹ˆà¸­à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²à¹‚à¸„à¹‰à¸”à¹à¸šà¸š Monolithic à¹à¸¥à¸°à¹€à¸à¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸™à¸à¸²à¸£à¸”à¸¹à¹à¸¥à¸£à¸±à¸à¸©à¸² à¸‚à¸¢à¸²à¸¢ à¹à¸¥à¸°à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š

Layers à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰:

1. Presentation Layer
2. Business Logic Layer
3. Data Access Layer

---

## ğŸŸ¦ C1: System Context Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            System User              â”‚
â”‚   (Librarian / Staff / Admin)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ HTTP / JSON
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Library Management System       â”‚
â”‚  â€¢ Manage books (CRUD)              â”‚
â”‚  â€¢ Borrow / Return books            â”‚
â”‚  â€¢ Track book status                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ SQL
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SQLite Database            â”‚
â”‚            (library.db)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Actors

* **System User:** à¸šà¸£à¸£à¸“à¸²à¸£à¸±à¸à¸©à¹Œà¸«à¸£à¸·à¸­à¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸—à¸µà¹ˆà¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­

### External System

* **SQLite Database:** à¹ƒà¸Šà¹‰à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹à¸¥à¸°à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¸¢à¸·à¸¡

---

## ğŸŸ© C2: Container Diagram â€“ Layered Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Client (Browser)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ HTTP / JSON
                â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        Library Management Application        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚        Presentation Layer              â”‚  â•‘
â•‘  â”‚  - Routes (bookRoutes.js)              â”‚  â•‘
â•‘  â”‚  - Controllers (bookController.js)     â”‚  â•‘
â•‘  â”‚  - Error Middleware                    â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                    â–¼                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚        Business Logic Layer            â”‚  â•‘
â•‘  â”‚  - Services (bookService.js)           â”‚  â•‘
â•‘  â”‚  - Validators (bookValidator.js)       â”‚  â•‘
â•‘  â”‚  Business Rules:                       â”‚  â•‘
â•‘  â”‚   âœ“ ISBN format validation             â”‚  â•‘
â•‘  â”‚   âœ“ Borrow / Return rules              â”‚  â•‘ 
â•‘  â”‚   âœ“ Cannot delete borrowed book        â”‚   â•‘ 
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                    â–¼                          â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚        Data Access Layer               â”‚   â•‘
â•‘  â”‚  - Repository (bookRepository.js)      â”‚   â•‘
â•‘  â”‚  - Database connection                 â”‚   â•‘
â•‘  â”‚  CRUD Operations (SQL)                 â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                     â”‚ SQL
                     â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚    SQLite Database   â”‚
             â”‚      library.db      â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Layer Responsibilities

### 1ï¸âƒ£ Presentation Layer

**Responsibilities:**

* à¸£à¸±à¸š HTTP Request à¸ˆà¸²à¸ Client
* à¹à¸›à¸¥à¸‡ request parameters
* à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Business Logic Layer
* à¸ªà¹ˆà¸‡ HTTP Response à¸à¸¥à¸±à¸š
* à¸ˆà¸±à¸”à¸à¸²à¸£ Error à¸œà¹ˆà¸²à¸™ middleware

**Must NOT:**

* à¹€à¸‚à¸µà¸¢à¸™ Business Logic
* à¹€à¸‚à¸µà¸¢à¸™ SQL à¸«à¸£à¸·à¸­à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ Database à¹‚à¸”à¸¢à¸•à¸£à¸‡

---

### 2ï¸âƒ£ Business Logic Layer

**Responsibilities:**

* à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Validation)
* à¸šà¸±à¸‡à¸„à¸±à¸šà¹ƒà¸Šà¹‰ Business Rules
* à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (à¹€à¸Šà¹ˆà¸™ à¸ªà¸–à¸´à¸•à¸´à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­)
* à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Data Access Layer

**Business Rules à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:**

* ISBN à¸•à¹‰à¸­à¸‡à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸£à¸¹à¸›à¹à¸šà¸šà¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
* à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸–à¸¹à¸à¸¢à¸·à¸¡à¹à¸¥à¹‰à¸§ à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¢à¸·à¸¡à¸‹à¹‰à¸³à¹„à¸”à¹‰
* à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸–à¸¹à¸à¸¢à¸·à¸¡à¸­à¸¢à¸¹à¹ˆ à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¹„à¸”à¹‰

**Must NOT:**

* à¸ˆà¸±à¸”à¸à¸²à¸£ HTTP Request/Response
* à¹€à¸‚à¸µà¸¢à¸™ SQL Query

---

### 3ï¸âƒ£ Data Access Layer

**Responsibilities:**

* à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ SQLite
* Execute SQL Queries
* à¸ˆà¸±à¸”à¸à¸²à¸£ CRUD Operations
* à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸¥à¸±à¸šà¹„à¸›à¸¢à¸±à¸‡ Business Layer

**Must NOT:**

* à¸¡à¸µ Business Logic
* à¸—à¸³ Validation

---

## ğŸ”„ Data Flow Example (Borrow Book)

```
Client
  â†’ Controller
    â†’ Service
      â†’ Repository
        â†’ Database
        â† (updated book)
      â†
    â†
  â† JSON Response
```

**Step-by-step:**

1. Client à¸ªà¹ˆà¸‡ PATCH /api/books/:id/borrow
2. Controller à¸£à¸±à¸š request à¹à¸¥à¸°à¹€à¸£à¸µà¸¢à¸ Service
3. Service à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Business Rules
4. Repository à¸­à¸±à¸›à¹€à¸”à¸•à¸ªà¸–à¸²à¸™à¸°à¹ƒà¸™ Database
5. à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸­à¸±à¸›à¹€à¸”à¸•à¸–à¸¹à¸à¸ªà¹ˆà¸‡à¸à¸¥à¸±à¸šà¹„à¸›à¸¢à¸±à¸‡ Client

---

## âœ… Summary

* à¸£à¸°à¸šà¸šà¸–à¸¹à¸à¸­à¸­à¸à¹à¸šà¸šà¸•à¸²à¸¡ **Layered Architecture (3-tier)**
* à¹à¸¢à¸à¸„à¸§à¸²à¸¡à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° Layer à¸­à¸¢à¹ˆà¸²à¸‡à¸Šà¸±à¸”à¹€à¸ˆà¸™
* à¸¥à¸”à¸›à¸±à¸à¸«à¸²à¸ˆà¸²à¸à¹‚à¸„à¹‰à¸”à¹à¸šà¸š Monolithic
* à¸‡à¹ˆà¸²à¸¢à¸•à¹ˆà¸­à¸à¸²à¸£à¸”à¸¹à¹à¸¥à¸£à¸±à¸à¸©à¸² à¸—à¸”à¸ªà¸­à¸š à¹à¸¥à¸°à¸‚à¸¢à¸²à¸¢à¸£à¸°à¸šà¸šà¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

---

**à¸§à¸´à¸Šà¸²:** ENGSE207 Software Architecture
**à¸£à¸¹à¸›à¹à¸šà¸šà¸‡à¸²à¸™:** Midterm Practical Exam (Individual)
